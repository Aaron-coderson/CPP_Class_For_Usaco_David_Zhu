#include <iostream> #include <string> #include <vector> #include <algorithm> #include <map> #include <utility>   using namespace std;  template <class T> using V = vector<T>; #define all x  begin x , end x   vector<int> a, v; vector<vector<int>> ccc; vector<bool> finalls;  void fonalls int x     if  finalls[x]       return;     finalls[x] = true;  for  int c : ccc[x]       fonalls c ;       int dooo int start     int x = start;  int y = start;  do     x = a[x], y = a[a[y]];    while  x != y ;  int tempp = INT_MAX;    do     tempp = min tempp, v[x] ;   x = a[x];    while  x != y ;  fonalls x ;    return tempp;    int main       int N;  cin >> N;  a.resize N + 1 ;  v.resize N + 1 ;  ccc.resize N + 1 ;  int64_t ans = 0;  for  int i = 1; i <= N; ++i      cin >> a[i] >> v[i];   ans += v[i];   ccc[a[i]].push_back i ;     finalls.resize N + 1 ;    for  int i = 1; i <= N; ++i       if  !finalls[i]  ans -= dooo i ;     cout << ans << endl;  